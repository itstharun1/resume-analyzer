{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import API from'../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PastResumesTable(_ref){let{onSelect}=_ref;const[rows,setRows]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{async function fetchAll(){try{const res=await API.get('/api/resumes');setRows(res.data);}catch(err){console.error(err);}finally{setLoading(false);}}fetchAll();},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-6\",children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:block overflow-x-auto rounded-lg shadow\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200 text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left font-medium text-gray-600\",children:\"File\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left font-medium text-gray-600\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left font-medium text-gray-600\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left font-medium text-gray-600\",children:\"Uploaded\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left font-medium text-gray-600\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-100\",children:rows.map(r=>{var _r$analysis,_r$analysis2;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3\",children:r.fileName}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3\",children:((_r$analysis=r.analysis)===null||_r$analysis===void 0?void 0:_r$analysis.name)||'—'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3\",children:((_r$analysis2=r.analysis)===null||_r$analysis2===void 0?void 0:_r$analysis2.email)||'—'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3\",children:new Date(r.uploadedAt).toLocaleString()}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>onSelect(r),className:\"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-1 rounded transition\",children:\"Details\"})})]},r._id);})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden space-y-4\",children:rows.map(r=>{var _r$analysis3,_r$analysis4;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg p-4 space-y-2\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"File:\"}),\" \",r.fileName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Name:\"}),' ',((_r$analysis3=r.analysis)===null||_r$analysis3===void 0?void 0:_r$analysis3.name)||'—']}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Email:\"}),' ',((_r$analysis4=r.analysis)===null||_r$analysis4===void 0?void 0:_r$analysis4.email)||'—']}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:new Date(r.uploadedAt).toLocaleString()}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onSelect(r),className:\"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-1 rounded w-full sm:w-auto transition\",children:\"Details\"})]},r._id);})})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","API","jsx","_jsx","jsxs","_jsxs","PastResumesTable","_ref","onSelect","rows","setRows","loading","setLoading","fetchAll","res","get","data","err","console","error","className","children","map","r","_r$analysis","_r$analysis2","fileName","analysis","name","email","Date","uploadedAt","toLocaleString","onClick","_id","_r$analysis3","_r$analysis4"],"sources":["C:/Users/DELL/Downloads/resume-analyzer-professional/frontend/src/components/PastResumesTable.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport API from '../api';\n\nexport default function PastResumesTable({ onSelect }) {\n  const [rows, setRows] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function fetchAll() {\n      try {\n        const res = await API.get('/api/resumes');\n        setRows(res.data);\n      } catch (err) {\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchAll();\n  }, []);\n\n  if (loading) return <div className=\"text-center py-6\">Loading...</div>;\n\n  return (\n    <div>\n      {/* Desktop Table */}\n      <div className=\"hidden md:block overflow-x-auto rounded-lg shadow\">\n        <table className=\"min-w-full divide-y divide-gray-200 text-sm\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"px-4 py-3 text-left font-medium text-gray-600\">File</th>\n              <th className=\"px-4 py-3 text-left font-medium text-gray-600\">Name</th>\n              <th className=\"px-4 py-3 text-left font-medium text-gray-600\">Email</th>\n              <th className=\"px-4 py-3 text-left font-medium text-gray-600\">Uploaded</th>\n              <th className=\"px-4 py-3 text-left font-medium text-gray-600\">Actions</th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-100\">\n            {rows.map((r) => (\n              <tr key={r._id} className=\"hover:bg-gray-50 transition\">\n                <td className=\"px-4 py-3\">{r.fileName}</td>\n                <td className=\"px-4 py-3\">{r.analysis?.name || '—'}</td>\n                <td className=\"px-4 py-3\">{r.analysis?.email || '—'}</td>\n                <td className=\"px-4 py-3\">\n                  {new Date(r.uploadedAt).toLocaleString()}\n                </td>\n                <td className=\"px-4 py-3\">\n                  <button\n                    onClick={() => onSelect(r)}\n                    className=\"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-1 rounded transition\"\n                  >\n                    Details\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Mobile Card List */}\n      <div className=\"md:hidden space-y-4\">\n        {rows.map((r) => (\n          <div\n            key={r._id}\n            className=\"bg-white shadow rounded-lg p-4 space-y-2\"\n          >\n            <p className=\"text-sm\">\n              <span className=\"font-medium\">File:</span> {r.fileName}\n            </p>\n            <p className=\"text-sm\">\n              <span className=\"font-medium\">Name:</span>{' '}\n              {r.analysis?.name || '—'}\n            </p>\n            <p className=\"text-sm\">\n              <span className=\"font-medium\">Email:</span>{' '}\n              {r.analysis?.email || '—'}\n            </p>\n            <p className=\"text-sm text-gray-500\">\n              {new Date(r.uploadedAt).toLocaleString()}\n            </p>\n            <button\n              onClick={() => onSelect(r)}\n              className=\"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-1 rounded w-full sm:w-auto transition\"\n            >\n              Details\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}